# Demonstration of how lists work
---
# First of all, you must declare your lists
objects:
  - MJFqalist: DAList
---
# A pre-declared list of dictionaries.  Each element is a dictionary
# with a 'question' and 'answer' key.  The 'question' value is pre-populated
variable name: MJFqalist
data:
  - question: "What is your name?"
    answer: 
  - question: "What is your address?"
    answer: 
  - question: "How are you feeling today?"
    answer: 
  - question: "Tell me about the last time you flew an aeroplane"
    answer: 
---
# When you include a field in a pre-populated data structure you need to
# force Docassemble to 'reconsider' it so that the question gets answered.
# Delete this code block and you'll see what I mean.
mandatory: True
code: |
  for i in range(len(MJFqalist)):
    if not MJFqalist[i]['answer']:
      reconsider("MJFqalist[" + str(i) + "]['answer']")
---
# Mandatory block displays output
mandatory: True
question: List of Questions and Answers
subquestion: |
  Question|Answer
  ---|----
  % for MJFindex in range(len(MJFqalist)):
  ${ MJFqalist[MJFindex]['question'] } | ${ MJFqalist[MJFindex]['answer'] }
  % endfor
buttons:
  - Exit: exit
  - Restart: restart
---
question: ${ MJFqalist[i]['question'] }
fields:
  - Answer:   MJFqalist[i]['answer']
---